(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const _="workout-power:v1";function Z(){try{const e=localStorage.getItem(_);return e?JSON.parse(e):null}catch{return null}}function Y(e){try{localStorage.setItem(_,JSON.stringify(e))}catch{}}function X(){try{if(globalThis?.matchMedia?.("(prefers-color-scheme: dark)")?.matches)return"dark"}catch{}return"light"}let S={screen:"home",theme:X(),soundEnabled:!0,voice:"auto",selectedWorkoutId:"classic",workout:null,phase:"idle",currentExercise:null,remainingSeconds:0};const B=new Set;function w(){return S}function p(e){S={...S,...e},B.forEach(n=>n(S))}function q(e){return B.add(e),()=>B.delete(e)}function ee(){const e=Z();e&&(S={...S,...e,theme:e.theme??S.theme})}function j({header:e,main:n}){const o=document.createElement("div");o.className="h-screen overflow-hidden flex flex-col bg-base-100 text-base-content";const i=document.createElement("header");i.className="navbar bg-base-200 px-4 sticky top-0 z-10",i.append(e);const t=document.createElement("main");return t.className="flex-1 overflow-y-auto px-4 py-4",t.append(n),o.append(i,t),o}let h=null,N=!1,g=null,b=0,E="work",k=0,$=null,P=null,A=null;function te(e,n,o,i){if(I(),g=e,b=0,E="work",N=!1,$=n,P=o,A=i,!g.exercises?.length){A?.();return}J()}function ne(){N||!h||(N=!0,clearInterval(h),h=null)}function oe(){!N||h||(N=!1,U())}function I(){clearInterval(h),h=null,N=!1,g=null,b=0,E="work",k=0,$=null,P=null,A=null}function J(){const e=g.exercises[b];E==="work"?(k=e.durationSeconds??g.defaultWorkSeconds,P?.({exercise:e,phase:"work",nextExercise:g.exercises[b+1]??null})):(k=g.defaultRestSeconds,P?.({exercise:e,phase:"rest",nextExercise:g.exercises[b+1]??null})),$?.(k),U()}function U(){h=setInterval(()=>{N||(k-=1,$?.(k),k<=0&&(clearInterval(h),h=null,se()))},1e3)}function se(){if(E==="work"){if(b===g.exercises.length-1){A?.(),I();return}E="rest"}else E="work",b+=1;J()}function ie(e){p({workout:e,phase:"running",screen:"workout"}),te(e,le,ue,de)}function ce(){ne(),p({phase:"paused"})}function ae(){oe(),p({phase:"running"})}function re(){I(),p({phase:"idle",screen:"home",workout:null})}function le(e){p({remainingSeconds:e})}function ue(e){p({currentExercise:e})}function de(){p({phase:"finished"})}const me="classic",pe="Classic Scientific 7-Minute Workout",ve="The original high-intensity circuit: 12 exercises, bodyweight only.",fe=30,ge=10,he=[{id:"jumping-jacks",name:"Jumping Jacks",voiceCueStart:"Jumping jacks. Go!",voiceCueMid:"Keep moving!",voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Wall sit",svgFile:"jumping-jacks.svg",formTips:"Full arm and leg extension. Land softly."},{id:"wall-sit",name:"Wall Sit",voiceCueStart:"Wall sit. Slide down until thighs parallel to floor.",voiceCueMid:"Hold strong",voiceCueCountdown:null,voiceCueNext:"Rest. Next: Push-ups",svgFile:"wall-sit.svg",formTips:"Back flat against wall. Knees over ankles."},{id:"push-ups",name:"Push-Ups",voiceCueStart:"Push-ups. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Abdominal crunches",svgFile:"push-ups.svg",formTips:"Body straight. Lower chest close to floor."},{id:"abdominal-crunches",name:"Abdominal Crunches",voiceCueStart:"Abdominal crunches. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Step-ups onto chair",svgFile:"abdominal-crunches.svg",formTips:"Hands behind head or across chest. Lift shoulders."},{id:"step-ups",name:"Step-Ups onto Chair",voiceCueStart:"Step-ups onto chair. Alternate legs.",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Squats",svgFile:"step-ups.svg",formTips:"Drive through heel. Keep chair stable."},{id:"squats",name:"Squats",voiceCueStart:"Squats. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Triceps dips on chair",svgFile:"squats.svg",formTips:"Knees over toes. Chest up."},{id:"triceps-dips",name:"Triceps Dips on Chair",voiceCueStart:"Triceps dips on chair. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Plank",svgFile:"triceps-dips.svg",formTips:"Elbows back. Lower until arms at 90 degrees."},{id:"plank",name:"Plank",voiceCueStart:"Plank. Hold position.",voiceCueMid:"Stay strong",voiceCueCountdown:null,voiceCueNext:"Rest. Next: High knees",svgFile:"plank.svg",formTips:"Straight line from head to heels. Core tight."},{id:"high-knees",name:"High Knees / Running in Place",voiceCueStart:"High knees. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Lunges",svgFile:"high-knees.svg",formTips:"Drive knees up. Quick feet."},{id:"lunges",name:"Lunges",voiceCueStart:"Lunges. Alternate legs.",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Push-up with rotation",svgFile:"lunges.svg",formTips:"Front knee over ankle. Back knee toward floor."},{id:"push-up-rotation",name:"Push-Up with Rotation",voiceCueStart:"Push-up with rotation. Alternate sides.",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Side plank",svgFile:"push-up-rotation.svg",formTips:"Rotate fully. Keep core engaged."},{id:"side-plank",name:"Side Plank",durationSeconds:30,voiceCueStart:"Side plank. Hold, alternate sides if needed.",voiceCueMid:null,voiceCueCountdown:null,voiceCueNext:"Workout complete! Great job.",svgFile:"side-plank.svg",formTips:"Stack feet. Body straight. Hold both sides if time allows."}],xe={id:me,name:pe,description:ve,defaultWorkSeconds:fe,defaultRestSeconds:ge,exercises:he},Ce="advanced",Se="Advanced 7-Minute Workout",be="More challenging version with rotations and unilateral moves.",ke=30,we=10,Ne=[{id:"reverse-lunge-elbow-instep",name:"Reverse Lunge, Elbow to Instep (Alternate)",voiceCueStart:"Reverse lunge, elbow to instep. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Side plank left",svgFile:"reverse-lunge-elbow.svg",formTips:"Deep lunge. Twist torso."},{id:"side-plank-left",name:"Side Plank (Left)",voiceCueStart:"Side plank left. Hold.",voiceCueMid:null,voiceCueCountdown:null,voiceCueNext:"Rest. Next: Side plank right",svgFile:"side-plank.svg",formTips:"Stack feet. Lift hips."},{id:"side-plank-right",name:"Side Plank (Right)",voiceCueStart:"Side plank right. Hold.",voiceCueMid:null,voiceCueCountdown:null,voiceCueNext:"Rest. Next: Push-ups",svgFile:"side-plank.svg",formTips:"Keep body straight."},{id:"push-ups-advanced",name:"Push-Ups",voiceCueStart:"Push-ups. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Single-leg deadlift",svgFile:"push-ups.svg",formTips:"Add clap or diamond if advanced."},{id:"single-leg-deadlift",name:"Single-Leg Deadlift to Reach (Alternate)",voiceCueStart:"Single-leg deadlift to reach. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Squat to overhead reach",svgFile:"single-leg-deadlift.svg",formTips:"Hinge at hips. Balance."},{id:"squat-overhead",name:"Squat to Overhead Reach",voiceCueStart:"Squat to overhead reach. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Burpees",svgFile:"squat-overhead.svg",formTips:"Deep squat. Reach high."},{id:"burpees",name:"Burpees",voiceCueStart:"Burpees. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Mountain climbers",svgFile:"burpees.svg",formTips:"Full extension. Jump high."},{id:"mountain-climbers",name:"Mountain Climbers",voiceCueStart:"Mountain climbers. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Lunge with rotation",svgFile:"mountain-climbers.svg",formTips:"Fast knees. Core tight."},{id:"lunge-rotation",name:"Lunge with Rotation (Alternate)",voiceCueStart:"Lunge with rotation. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Plank with lift",svgFile:"lunge-rotation.svg",formTips:"Twist over front leg."},{id:"plank-lift",name:"Plank with Arm/Leg Lift (Alternate)",voiceCueStart:"Plank with lift. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Single-leg squat",svgFile:"plank-lift.svg",formTips:"Lift opposite arm/leg. Hold balance."},{id:"single-leg-squat",name:"Single-Leg Squat (Alternate)",voiceCueStart:"Single-leg squat. Alternate legs.",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next: Triceps dip with leg extension",svgFile:"single-leg-squat.svg",formTips:"Use chair for support if needed."},{id:"triceps-dip-leg",name:"Triceps Dip with Leg Extension (Alternate)",voiceCueStart:"Triceps dip with leg extension. Go!",voiceCueMid:null,voiceCueCountdown:null,voiceCueNext:"Workout complete! Amazing effort.",svgFile:"triceps-dip-leg.svg",formTips:"Extend one leg. Lower deeply."}],Ee={id:Ce,name:Se,description:be,defaultWorkSeconds:ke,defaultRestSeconds:we,exercises:Ne},Te="quick-test",ye="Quick Test Circuit",Re="Short 3-exercise circuit for testing the app flow.",Me=30,Le=10,Fe=[{id:"jumping-jacks",name:"Jumping Jacks",durationSeconds:30,voiceCueStart:"Jumping jacks. Go!",voiceCueMid:"Keep those arms and legs moving!",voiceCueCountdown:"Ten seconds left",voiceCueNext:"Rest. Next up: Wall sit",svgFrames:["jumping_jacks_closed.svg","jumping_jacks_open.svg"],animationSpeedMs:800,formTips:"Land softly on the balls of your feet. Full arm and leg extension."},{id:"wall-sit",name:"Wall Sit",durationSeconds:30,voiceCueStart:"Wall sit. Slide down until thighs are parallel to the floor.",voiceCueMid:"Hold strong!",voiceCueCountdown:null,voiceCueNext:"Rest. Next up: Push-ups",svgFrames:["wall_sit.svg"],animationSpeedMs:null,formTips:"Back flat against the wall. Knees directly over ankles."},{id:"push-ups",name:"Push-Ups",durationSeconds:30,voiceCueStart:"Push-ups. Go!",voiceCueMid:null,voiceCueCountdown:"Ten seconds left",voiceCueNext:"Workout complete! Great job.",svgFrames:["push_up_down.svg","push_up_up.svg"],animationSpeedMs:1e3,formTips:"Keep body straight. Lower chest close to the floor."}],We={id:Te,name:ye,description:Re,defaultWorkSeconds:Me,defaultRestSeconds:Le,exercises:Fe},W=[xe,Ee,We];function Pe(e){return W.find(n=>n.id===e)??null}function Ae(e){if(e.querySelector('[data-screen="home-container"]'))return()=>{};const n=w(),o=document.createElement("div");o.className="relative flex items-center w-full";const i=document.createElement("div");i.className="absolute left-1/2 -translate-x-1/2 text-4xl font-sans font-semibold whitespace-nowrap",i.textContent="Workout Power";const t=document.createElement("button");t.className="btn btn-ghost btn-square ml-auto",t.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
         viewBox="0 0 24 24" stroke-width="1.5"
         stroke="currentColor" class="size-6">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593
           c.55 0 1.02.398 1.11.94l.213 1.281
           c.063.374.313.686.645.87.074.04.147.083.22.127
           .325.196.72.257 1.075.124l1.217-.456
           a1.125 1.125 0 0 1 1.37.49l1.296 2.247
           a1.125 1.125 0 0 1-.26 1.431l-1.003.827
           c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255
           c-.008.378.137.75.43.991l1.004.827
           c.424.35.534.955.26 1.43l-1.298 2.247
           a1.125 1.125 0 0 1-1.369.491l-1.217-.456
           c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128
           c-.331.183-.581.495-.644.869l-.213 1.281
           c-.09.543-.56.94-1.11.94h-2.594
           c-.55 0-1.019-.398-1.11-.94l-.213-1.281
           c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127
           c-.325-.196-.72-.257-1.076-.124l-1.217.456
           a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247
           a1.125 1.125 0 0 1 .26-1.431l1.004-.827
           c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255
           c.007-.38-.138-.751-.43-.992l-1.004-.827
           a1.125 1.125 0 0 1-.26-1.43l1.297-2.247
           a1.125 1.125 0 0 1 1.37-.491l1.216.456
           c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128
           .332-.183.582-.495.644-.869l.214-1.28Z" />
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
    </svg>
  `,t.addEventListener("click",()=>{p({screen:"settings"})}),o.append(i,t);const s=document.createElement("div");s.className="flex flex-col gap-6";const u=document.createElement("button");u.className="btn btn-primary btn-block btn-lg text-2xl active:scale-100 transition-none",u.textContent="Start workout",u.addEventListener("click",()=>{const c=Pe(w().selectedWorkoutId)??W[0];c&&ie(c)});const l=document.createElement("div");l.className="flex flex-col gap-3";const d=new Map;W.forEach(c=>{const r=c.id===n.selectedWorkoutId,a=document.createElement("button");a.type="button",a.className="w-full text-left rounded-box bg-base-200 border border-base-300 overflow-hidden hover:bg-base-300 hover:border-primary/40 active:bg-base-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",r&&a.classList.add("border-primary","bg-base-300"),a.addEventListener("click",()=>{p({selectedWorkoutId:c.id})}),d.set(c.id,a);const v=document.createElement("div");v.className="px-5 py-4 flex flex-col gap-1";const T=document.createElement("h2");T.className="font-semibold leading-tight truncate",T.textContent=c.name;const y=document.createElement("p");y.className="text-sm opacity-80 truncate",y.textContent=c.description??"";const R=document.createElement("p");R.className="text-xs opacity-70";const C=qe(c);R.textContent=`${c.exercises?.length??0} exercises • ${$e(C)} (includes rest)`,v.append(T,y,R),a.append(v),l.append(a)}),s.append(u,l);const m=document.createElement("div");return m.setAttribute("data-screen","home-container"),m.append(j({header:o,main:s})),e.append(m),q(c=>{for(const r of W){const a=d.get(r.id);if(!a)continue;const v=r.id===c.selectedWorkoutId;a.classList.toggle("border-primary",v),a.classList.toggle("bg-base-300",v)}})}function qe(e){const n=e.exercises??[],o=n.length,i=e.defaultWorkSeconds??0,t=e.defaultRestSeconds??0,s=n.reduce((l,d)=>l+(d.durationSeconds??i),0),u=o>1?t*(o-1):0;return s+u}function $e(e=0){const n=Math.floor(e/60),o=e%60;return`${n}m ${o}s`}function Ge(e){if(e.querySelector('[data-screen="workout-container"]'))return()=>{};const n=w(),{currentExercise:o,remainingSeconds:i,phase:t}=n,s=o?.phase,u=o?.exercise,l=o?.nextExercise,d=document.createElement("div");d.className="flex items-center w-full";const m=document.createElement("div");m.className="flex-1 text-center font-semibold",m.setAttribute("data-el","title"),m.textContent=s==="rest"?"Rest":"Workout",d.append(m);const x=document.createElement("div");x.className="flex flex-col items-center justify-center gap-6 text-center";const c=document.createElement("div");c.className="text-xl font-medium",c.setAttribute("data-el","name"),s==="rest"?c.textContent="Take a breather":c.textContent=u?.name??"Get Ready";const r=document.createElement("div");r.className="text-6xl font-bold tabular-nums inline-block",r.style.minWidth="5ch",r.setAttribute("data-el","timer"),r.textContent=D(i);const a=document.createElement("div");a.className="text-sm opacity-70",a.setAttribute("data-el","nextRest");const v=document.createElement("div");v.className="text-sm opacity-70",v.setAttribute("data-el","nextExercise");const T=n.workout?.defaultRestSeconds??0,y=s==="work"&&!!l,R=!!l;a.textContent=y?`Next rest: ${T}s`:"",v.textContent=R?s==="rest"?`Up next: ${l.name}`:`Next exercise: ${l.name}`:"";const C=document.createElement("div");C.className="text-sm opacity-70",C.setAttribute("data-el","hint"),C.textContent=t==="paused"?"Paused — tap anywhere to continue":"Tap anywhere to pause";const M=document.createElement("button");M.className="btn btn-ghost btn-sm mt-2",M.textContent="End workout",M.addEventListener("click",f=>{f.stopPropagation(),re()}),x.append(c,r,a,v,C,M);const G=document.createElement("div");G.setAttribute("data-screen","workout-container");const H=j({header:d,main:x});return G.append(H),e.append(G),H.querySelector("main")?.addEventListener("click",()=>{const{phase:f}=w();f==="running"?ce():f==="paused"&&ae()}),q(f=>{const L=f.currentExercise?.phase,F=f.currentExercise?.nextExercise,z=f.workout?.defaultRestSeconds??0,V=L==="work"&&!!F,Q=!!F;m.textContent=L==="rest"?"Rest":"Workout",c.textContent=L==="rest"?"Take a breather":f.currentExercise?.exercise?.name??"Get Ready",r.textContent=D(f.remainingSeconds),a.textContent=V?`Next rest: ${z}s`:"",v.textContent=Q?L==="rest"?`Up next: ${F.name}`:`Next exercise: ${F.name}`:"",C.textContent=f.phase==="paused"?"Paused — tap anywhere to continue":"Tap anywhere to pause"})}function D(e=0){const n=Math.floor(e/60).toString().padStart(2,"0"),o=(e%60).toString().padStart(2,"0");return`${n}:${o}`}function Be(e){const n=w(),o=document.createElement("div");o.className="flex items-center w-full";const i=document.createElement("button");i.className="btn btn-ghost btn-square",i.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
         viewBox="0 0 24 24" stroke-width="1.5"
         stroke="currentColor" class="size-6">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
    </svg>
  `,i.addEventListener("click",()=>{p({screen:"home"})});const t=document.createElement("div");t.className="flex-1 text-center font-semibold",t.textContent="Settings",o.append(i,t);const s=document.createElement("div");s.className="flex flex-col gap-4";const u=K("Dark mode",n.theme==="dark",r=>{p({theme:r?"dark":"light"})}),l=K("Sounds",n.soundEnabled,r=>{p({soundEnabled:r})}),d=document.createElement("div");d.className="card bg-base-200";const m=document.createElement("div");m.className="card-body";const x=document.createElement("label");x.className="label",x.textContent="Voice";const c=document.createElement("select");c.className="select select-bordered w-full",["auto","Voice A","Voice B"].forEach(r=>{const a=document.createElement("option");a.value=r,a.textContent=r,r===n.voice&&(a.selected=!0),c.append(a)}),c.addEventListener("change",r=>{p({voice:r.target.value})}),m.append(x,c),d.append(m),s.append(u,l,d),e.append(j({header:o,main:s}))}function K(e,n,o){const i=document.createElement("div");i.className="card bg-base-200";const t=document.createElement("div");t.className="card-body";const s=document.createElement("div");s.className="flex items-center justify-between";const u=document.createElement("span");u.textContent=e;const l=document.createElement("input");return l.type="checkbox",l.className="toggle toggle-primary",l.checked=n,l.addEventListener("change",d=>{o(d.target.checked)}),s.append(u,l),t.append(s),i.append(t),i}function je(){const e=document.getElementById("app");if(!e)return;let n=null,o=null;const i=t=>{if(t.screen!==n){if(typeof o=="function"){try{o()}catch{}o=null}e.innerHTML="",t.screen==="home"&&(o=Ae(e)),t.screen==="workout"&&(o=Ge(e)),t.screen==="settings"&&Be(e),n=t.screen}};q(i),i(w())}function O(){ee(),je();const e=n=>{Y({theme:n.theme,soundEnabled:n.soundEnabled,voice:n.voice}),document.documentElement.setAttribute("data-theme",n.theme)};q(e),e(w())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",O,{once:!0}):O();
